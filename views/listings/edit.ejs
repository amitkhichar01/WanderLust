<% layout("./layouts/boilerplate.ejs") %>
<body>
    <div class="row">
        <div class="col-8 offset-2">
            <form
                action="/listing/<%=listing.id%>?_method=PUT"
                method="post"
                novalidate
                class="needs-validation"
                enctype="multipart/form-data"
            >
                <div class="mb-3">
                    <label for="title" class="form-label">Title:</label>
                    <input
                        type="text"
                        name="listing[title]"
                        id="title"
                        class="form-control"
                        value="<%=listing.title%>"
                        required
                    />
                    <div class="invalid-feedback">Title empty.</div>
                </div>

                <div class="mb-3">
                    <label for="description" class="form-label"
                        >Description:</label
                    >
                    <textarea
                        type="text"
                        name="listing[description]"
                        cols="30"
                        rows="2"
                        id="description"
                        class="form-control"
                        required
                    >
                    <%=listing.description%>
                    </textarea>
                    <div class="invalid-feedback">Enter description.</div>
                </div>
                <div class="cmb-3">
                    Original Listing Image <br />
                    <img src="<%= originalImageUrl%>" alt="OriginalImageUrl" />
                </div>
                <div class="row">
                    <div class="mb-3 col-6">
                        <label for="image" class="form-label"
                            >Upload New Image Url:</label
                        >

                        <input
                            type="file"
                            name="listing[image]"
                            id="image"
                            class="form-control"
                        />
                    </div>
                    <div class="mb-3 col-6">
                        <label for="location" class="form-label"
                            >Location:</label
                        >
                        <input
                            type="text"
                            name="listing[location]"
                            id="location"
                            class="form-control"
                            value="<%=listing.location%>"
                            required
                        />
                        <div class="invalid-feedback">
                            enter a valid location.
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="mb-3 col-6">
                        <label for="price" class="form-label">Price:</label>
                        <input
                            type="text"
                            name="listing[price]"
                            id="price"
                            class="form-control"
                            value="<%=listing.price%>"
                            required
                        />
                        <div class="invalid-feedback">Enter a valid price.</div>
                    </div>

                    <div class="mb-3 col-6">
                        <label for="country" class="form-label">country:</label>
                        <input
                            type="text"
                            name="listing[country]"
                            id="country"
                            class="form-control"
                            value="<%=listing.country%>"
                            required
                        />
                        <div class="invalid-feedback">
                            Please enter a valid country.
                        </div>
                    </div>
                </div>

                <button class="btn btn-dark">Submit</button>
            </form>
        </div>
    </div>
</body>
